<div class="container" fxLayout="row" fxLayout.xs="column" fxFlexFill>
  <div fxFlex="75" fxFlex.xs="45">

    <form [formGroup]="projectForm" (ngSubmit)="onSubmit()" class="white-box custom-form-container mat-elevation-z8" novalidate>
      <!-- <input type="hidden" formControlName="id"> -->
      <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px">
        <h4>Edit Project</h4>
        <span class="spacer"></span>


        <h4>Project Sponsor - {{this.projectForm.controls.projectSponsor.value}}</h4>
      </div>
      <mat-form-field appearance="outline" class="input-md" fxClass-sm="input-lg">
        <mat-label>Project Name</mat-label>
        <input matInput formControlName="name" [errorStateMatcher]="matcher" />
      </mat-form-field>
      <mat-form-field appearance="outline" class="input-lg">
        <mat-label>Description</mat-label>
        <textarea matInput formControlName="description"></textarea>
      </mat-form-field>
      <div fxLayout="row" fxLayout.xs="column">
        <mat-form-field appearance="outline" class="input-lg">
          <mat-label>Project Type</mat-label>
          <mat-select formControlName="projectType">
            <mat-option *ngFor="let type of projectTypes" [value]="type.value">{{type.viewValue}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div fxLayout="row" fxLayout.xs="column">
        <mat-form-field appearance="outline" class="input-lg">
          <mat-label>Locations Impacted</mat-label>
          <mat-select formControlName="locationsImpacted" multiple>
            <mat-option *ngFor="let location of locations" [value]="location.value">{{location.viewValue}}</mat-option>
          </mat-select>
        </mat-form-field>
        &nbsp;
        <mat-form-field appearance="outline" class="input-lg">
          <mat-label>Platforms Impacted</mat-label>
          <mat-select formControlName="platformsImpacted" multiple>
            <mat-option *ngFor="let platform of platforms" [value]="platform.value">{{platform.viewValue}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div fxLayout="row">
        <mat-checkbox formControlName="newPricingRules" labelPosition="before" color="primary">New Pricing Rules&nbsp;</mat-checkbox>
      </div>
      <br>
      <mat-form-field appearance="outline" class="input-lg">
        <mat-label>Audiences Impacted</mat-label>
        <mat-select formControlName="audiencesImpacted" multiple>
          <mat-option *ngFor="let audience of audiences" [value]="audience.value">{{audience.viewValue}}</mat-option>
        </mat-select>
      </mat-form-field>
      <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px">
        <h3>Sponsors</h3>
      </div>

      <div fxLayout="row" fxLayout.xs="column">
        <mat-form-field appearance="outline" class="input-lg">
          <mat-label>Executive Sponsor</mat-label>
          <input type="text" aria-label="Sponsornames" matInput formControlName="executiveSponsor" [matAutocomplete]="exps">
          <mat-autocomplete #exps="matAutocomplete">
            <mat-option *ngFor="let option of usersOptions" [value]="option">
              {{option}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        &nbsp;
        <mat-form-field appearance="outline" class="input-lg">
          <mat-label>Product Sponsor</mat-label>
          <input type="text" aria-label="Sponsornames" matInput formControlName="productSponsor" [matAutocomplete]="prds">
          <mat-autocomplete #prds="matAutocomplete">
            <mat-option *ngFor="let option of usersOptions" [value]="option">
              {{option}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
      </div>
      <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="10px">
        <h3>Business Case</h3>
      </div>

      <div fxLayout="row" fxLayout.xs="column">
        <mat-form-field appearance="outline" class="input-lg" fxClass-sm="input-lg">
          <mat-label>Volume</mat-label>
          <input matInput formControlName="volume" [errorStateMatcher]="matcher" />
          <mat-error *ngIf="projectForm.controls.volume.hasError('required')">
            Volume is <strong>required</strong>
          </mat-error>
        </mat-form-field>
        &nbsp;

        <mat-form-field appearance="outline" class="input-lg" fxClass-sm="input-lg">
          <mat-label>Revenue at List</mat-label>
          <input matInput formControlName="revenueAtList" [errorStateMatcher]="matcher" />
        </mat-form-field>
      </div>
      <div fxLayout="row">
        <mat-checkbox formControlName="dealFormEligible" labelPosition="before" color="primary">Deal Form Eligible&nbsp;</mat-checkbox>

      </div>
      <br>
      <div fxLayout="row" fxLayout.xs="column">
        <mat-form-field appearance="outline" class="input-lg" fxClass-sm="input-lg">
          <mat-label>New Titles</mat-label>
          <input matInput formControlName="newTitles" [errorStateMatcher]="matcher" />
        </mat-form-field>
        &nbsp;

        <mat-form-field appearance="outline" class="input-lg" fxClass-sm="input-lg">
          <mat-label>New Accounts</mat-label>
          <input matInput formControlName="newAccounts" [errorStateMatcher]="matcher" />
        </mat-form-field>
      </div>
      <mat-form-field appearance="outline" class="input-lg">
        <mat-label>Project Details</mat-label>
        <textarea matInput formControlName="projectDetails"></textarea>
      </mat-form-field>
      <mat-form-field appearance="outline" class="input-lg">
        <mat-label>Business Case</mat-label>
        <textarea matInput formControlName="businessCase"></textarea>
      </mat-form-field>
      <mat-form-field appearance="outline" class="input-lg">
        <mat-label>Comments</mat-label>
        <textarea matInput formControlName="comments"></textarea>
      </mat-form-field>
      <div class="button-row">
        <button mat-raised-button type="reset" routerLink="/projects" color="warn" class="mat-elevation-z4">Cancel</button>&nbsp;
        <button mat-raised-button type="submit" [disabled]="!projectForm.valid" class="btn-color mat-elevation-z4">Submit</button>
      </div>
    </form>
  </div>
</div>
